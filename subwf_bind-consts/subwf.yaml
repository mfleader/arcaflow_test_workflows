version: v0.2.0
input:
  root: CombinedObject
  objects:
    CombinedObject:
      id: CombinedObject
      properties:
        constant:
          type:
            type_id: ref
            id: RepeatedValues
        item:
          type:
            type_id: ref
            id: Item
        # loop_id:
        #   required: true
        #   type:
        #     type_id: integer
        # name:
        #   required: true
        #   type:
        #     type_id: string
    RepeatedValues:
      id: RepeatedValues
      properties:
        name:
          # required: true
          type:
            type_id: string
    Item:
      id: Item
      properties:
        loop_id:
          # required: true
          type:
            type_id: integer


steps:
  example:
    plugin:
      deployment_type: image
      src: quay.io/arcalot/arcaflow-plugin-template-python
    input:
      name: !expr $.input.constant.name

outputs:
  success:
    # loop_id: !expr $.input.loop_id
    beatle: !expr $.steps.example.outputs.success